# Troubleshooting - –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –æ—Ç–≤–µ—Ç—ã –æ—Ç –º–æ–¥–µ–ª–µ–π (STT, LLM, TTS)

### –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ STT —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏** - —Ç–µ–ø–µ—Ä—å —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ –∫–ª–∏–µ–Ω—Ç—É
2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ LLM –æ—Ç–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–æ–º** - —Ç–µ–ø–µ—Ä—å –≤ `handle_listen_text` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏ —Ç–µ–∫—Å—Ç, –∏ –∞—É–¥–∏–æ
3. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ TTS –∞—É–¥–∏–æ** - —Ç–µ–ø–µ—Ä—å –ø–æ—Å–ª–µ LLM –æ—Ç–≤–µ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞—É–¥–∏–æ
4. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ WebM —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞
5. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
   ```
   Processing listen text: ...
   LLM response: ...
   Sending TTS audio: ... bytes
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
   ```env
   GROK_API_KEY=your_key
   STT_API_KEY=your_key
   TTS_API_KEY=your_key
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ HTML –∫–ª–∏–µ–Ω—Ç** - –≤ –ª–æ–≥–µ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–ª—è—Ç—å—Å—è:
   - `üìù –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (STT): "..."`
   - `ü§ñ –û—Ç–≤–µ—Ç LLM: "..."`
   - `üéµ –ü–æ–ª—É—á–µ–Ω—ã –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∞—É–¥–∏–æ –æ—Ç–≤–µ—Ç)`

### –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤:

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ **—Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ Listen**:
1. LLM –æ—Ç–≤–µ—Ç (—Ç–µ–∫—Å—Ç) - `{"type": "llm", "text": "..."}`
2. TTS –∞—É–¥–∏–æ (–±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ **–∞—É–¥–∏–æ**:
1. STT —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è - `{"type": "stt", "text": "..."}`
2. LLM –æ—Ç–≤–µ—Ç (—Ç–µ–∫—Å—Ç) - `{"type": "llm", "text": "..."}`
3. TTS –∞—É–¥–∏–æ (–±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. API –∫–ª—é—á–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

**–°–∏–º–ø—Ç–æ–º—ã:** –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞ —Ç–∏–ø–∞ "API key not configured"

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∫–ª—é—á–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

#### 2. –ê—É–¥–∏–æ –Ω–µ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:** "Failed to process audio" –≤ –ª–æ–≥–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:** –°–µ—Ä–≤–µ—Ä —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ STT (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebM)

#### 3. –ü—É—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã

**–°–∏–º–ø—Ç–æ–º—ã:** –ü–æ–ª—É—á–∞–µ—Ç–µ –æ—Ç–≤–µ—Ç—ã, –Ω–æ –æ–Ω–∏ –ø—É—Å—Ç—ã–µ

**–†–µ—à–µ–Ω–∏–µ:** 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –∫–ª—é—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ API (Grok, OpenAI)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–æ–∫

#### 4. –ê—É–¥–∏–æ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**–°–∏–º–ø—Ç–æ–º—ã:** –ü–æ–ª—É—á–∞–µ—Ç–µ –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–æ –æ–Ω–∏ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** 
- –ë—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å Opus –Ω–∞–ø—Ä—è–º—É—é
- –í HTML –∫–ª–∏–µ–Ω—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –Ω–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–µ–∫–æ–¥–µ—Ä Opus

### –û—Ç–ª–∞–¥–∫–∞:

1. **–í–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   ```bash
   RUST_LOG=debug cargo run
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ DevTools –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Network ‚Üí WS
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**
   - F12 ‚Üí Console
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ –∏–∑ WebSocket –∫–ª–∏–µ–Ω—Ç–∞

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. **–¢–µ—Å—Ç —Å —Ç–µ–∫—Å—Ç–æ–º:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ Hello
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç (Listen)"
   - –î–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å: LLM –æ—Ç–≤–µ—Ç (—Ç–µ–∫—Å—Ç) + TTS –∞—É–¥–∏–æ

2. **–¢–µ—Å—Ç —Å –∞—É–¥–∏–æ:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ Hello
   - –ó–∞–ø–∏—à–∏—Ç–µ –∞—É–¥–∏–æ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ
   - –î–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å: STT —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è + LLM –æ—Ç–≤–µ—Ç + TTS –∞—É–¥–∏–æ

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (STT, LLM, TTS) –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –∫–ª—é—á–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∏ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ Listen –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ LLM

